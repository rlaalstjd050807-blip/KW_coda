<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>μ¶•μ  μ£Όμ  QR μ¤λ”</title>
</head>
<body>
  <h2>πΊ μ¶•μ  μ£Όμ  μ£Όλ¬Έν•κΈ° πΊ</h2>

  <label>ν…μ΄λΈ” λ²νΈ:
    <input type="text" id="table" placeholder="μ: 3λ²">
  </label><br><br>

  <label>λ©”λ‰΄:
    <select id="menu">
      <option value="λ§¥μ£Ό">λ§¥μ£Ό</option>
      <option value="μ†μ£Ό">μ†μ£Ό</option>
      <option value="μ½λΌ">μ½λΌ</option>
      <option value="μΉν‚¨">μΉν‚¨</option>
    </select>
  </label><br><br>

  <label>μλ‰:
    <input type="number" id="quantity" value="1" min="1">
  </label><br><br>

  <button onclick="submitOrder()">μ£Όλ¬Έν•κΈ°</button>

  <p id="status"></p>

  <script>
    const WEBAPP_URL = "https://script.google.com/macros/s/AKfycbwHrIv9Q4E3zPhk-1nTl3byJzZ60d9NpA-LDZvhXjgdQicuSJIng6TB_xhDymcBP4gn/exec";

    function submitOrder() {
      const table = document.getElementById("table").value;
      const menu = document.getElementById("menu").value;
      const quantity = document.getElementById("quantity").value;

      if (!table) {
        alert("ν…μ΄λΈ” λ²νΈλ¥Ό μ…λ ¥ν•μ„Έμ”!");
        return;
      }

      fetch(WEBAPP_URL, {
        method: "POST",
        body: JSON.stringify({table, menu, quantity}),
        headers: {"Content-Type": "application/json"}
      })
      .then(res => res.json())
      .then(data => {
        if (data.status === "success") {
          document.getElementById("status").innerText = "β… μ£Όλ¬Έ μ™„λ£! μ μ‹λ§ κΈ°λ‹¤λ ¤μ£Όμ„Έμ”.";
        } else {
          document.getElementById("status").innerText = "β μ£Όλ¬Έ μ‹¤ν¨. λ‹¤μ‹ μ‹λ„ν•΄μ£Όμ„Έμ”.";
        }
      })
      .catch(err => {
        document.getElementById("status").innerText = "β οΈ μ„λ²„ μ¤λ¥ λ°μƒ.";
        console.error(err);
      });
    }
  </script>
</body>
</html>